	\begin{figure}[h]
	  \center
	\begin{tikzpicture}[->,node distance=1.3cm,>=stealth',bend angle=20,auto,
	  place/.style={circle,thick,draw=blue!75,fill=blue!20,minimum size=10mm},
	  red place/.style={place,draw=red!75,fill=red!20}
	  every label/.style={red},
	  every node/.style={scale=.6},
	  dots/.style={fill=black,circle,inner sep=2pt},
	  triangle/.style={fill=black,regular polygon,regular polygon sides=3,minimum size=10pt,inner sep=0pt,},
    spy using outlines={circle, magnification=2.5, size=8cm},]
	  \node (rec2) at (0,0) [draw, thick,minimum width=2cm,minimum height=2cm]{$B_{2}$};
	  \node (rec1) [draw, left=of rec2,xshift=2cm,thick,minimum width=2cm,minimum height=2cm,align=center]{$B_{1}$};
    \only<1,3>{\node (rec3) [draw, right=of rec2,xshift=-2cm,thick,minimum width=2cm,minimum height=2cm,align=center]{$B_{3}$}};
    \only<2>{\node (rec3) [draw, right=of rec2,xshift=-2cm,thick,align=center]{
    
      \begin{tikzpicture}
        \node[place](l1){$\loc_1$};
        \node[place,below=2mm of l1,xshift=2cm,yshift=-5mm](l2){$\loc_2$};
        \path (l1) edge [bend left] node{$a_1$} (l2)
        (l2) edge [bend left] node[yshift=-5mm]{$a_2$} (l1);
   %     \spy on ($(rec4)!.5!(rec3)$) in node[line width=2mm,fill=cyan!5] (s) at ($(rec4)!.5!(rec3)$);
      \end{tikzpicture}
    
    
    }};
	  %\node (rec4) [draw, right=of rec3,xshift=-2cm,thick,minimum width=2cm,minimum height=2cm,align=center]{$B_{4}$};
    \only<1,3>{\node (rec4) [draw,right=of rec3,thick,xshift=-2cm,minimum width=2cm,minimum height=2cm,align=center]{$B_4$}};
    \only<2>{\node (rec4) [draw,right=of rec3,thick,xshift=-2cm,align=center]{
      
      \begin{tikzpicture}
        \node[place](l1){$\loc_3$};
        \node[place,below=2mm of l1,xshift=2cm,yshift=-5mm](l2){$\loc_4$};
        \path (l1) edge [bend left] node{$a_3$} (l2)
        (l2) edge [bend left] node[yshift=-5mm]{$a_4$} (l1);
        \spy on ($(rec4)!.5!(rec3)$) in node[line width=2mm,fill=cyan!5] (s) at ($(rec4)!.5!(rec3)$);
      \end{tikzpicture}
    
    }};

	  \node [dots] (p1) at ($(rec2.north west)!0.5!(rec2.north east)$) {};
	  \node [dots] (p2) at ($(rec2.north west)!0.5!(rec2.north east)$) {};
	  \node [dots] (q1) at ($(rec1.north west)!0.5!(rec1.north east)$) {};
	  \node [dots] (q2) at ($(rec3.north west)!0.3!(rec3.north east)$) {};
	  \node [dots] (r1) at ($(rec3.north west)!0.7!(rec3.north east)$) {};
	  \node [dots] (r2) at ($(rec4.north west)!0.3!(rec4.north east)$) {};

	  

	  \draw [-] (q1) to[ncbar] (p1) node[xshift=-8mm,yshift=1cm]{};
	  \draw [-] (q2) to[ncbar=-5mm] (p2) node[xshift=0mm,yshift=1.2cm]{$\alpha_1$};
    \only<1,3>{\draw [-] (r2) to[ncbar=-5mm] (r1) node[xshift=8mm,yshift=1.2cm]{$\alpha_2$}};
    \only<2>{\draw [-] (r2) to[ncbar=-5mm] (r1) node[xshift=8mm,yshift=1.2cm]{$\alpha_2=\{a_1,a_3\}$}};

	  

	\end{tikzpicture}
	\end{figure}



